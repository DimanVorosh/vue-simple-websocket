class WebSocketClient{constructor(a,b){this.instance=null,this.url=a,this.options=b||this.defaultOptions(),this.options&&(this.reconnectEnabled=b.reconnectEnabled||!1,this.reconnectEnabled&&(this.reconnectInterval=b.reconnectInterval)),this.onOpen=null,this.onMessage=null,this.onClose=null,this.onError=null}defaultOptions(){return{reconnectEnabled:!1,reconnectInterval:0}}connect(){this.instance=new WebSocket(this.url),this.instance.onopen=()=>{"function"==typeof this.onOpen&&this.onOpen()},this.instance.onmessage=a=>{"function"==typeof this.onMessage&&this.onMessage(a)},this.instance.onclose=a=>{"function"==typeof this.onClose&&this.onClose(a),!a.wasClean&&this.reconnectEnabled&&this.reconnect()},this.instance.onerror=a=>{"function"==typeof this.onError&&this.onError(a)}}reconnect(){delete this.instance,setTimeout(()=>{this.connect()},this.reconnectInterval)}sendObj(a){this.instance.send(JSON.stringify(a))}removeListeners(){this.onOpen=null,this.onMessage=null,this.onClose=null,this.onError=null}}var Main={install(a,b,c){const d=new WebSocketClient(b,c);d.connect(),a.prototype.$socketClient=d}};export default Main;
//# sourceMappingURL=VueSimpleWebSocket.module.js.map
